{% extends request.is_ajax|yesno:'nullcont.htm,devapp/ext.htm' %}
{% load i18n %}
{% block content %}

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">{% trans 'Device info' %}</h3>
        </div>
        <div class="panel-body">

            <form role="form" action="{% url 'devapp:edit' dev.user_group.pk|default:0 dev.pk %}" method="post">{% csrf_token %}

                <div class="form-group">
                    <label for="id_ip_address">{% trans 'Ip address' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-globe"></span></span>
                        {{ form.ip_address }}{{ form.ip_address.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_mac_addr">{% trans 'Mac address' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-globe"></span></span>
                        {{ form.mac_addr }}{{ form.mac_addr.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_comment">{% trans 'Comment' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-comment"></span></span>
                        {{ form.comment }}{{ form.comment.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_devtype">{% trans 'Device type' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-hdd"></span></span>
                        {{ form.devtype }}{{ form.devtype.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_man_passw">{% trans 'SNMP password' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
                        {{ form.man_passw }}{{ form.man_passw.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_map_dot">{% trans 'Map point' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-map-marker"></span></span>
                        {{ form.map_dot }}{{ form.devtype.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_user_group">{% trans 'User group' %}</label>

                    <div class="input-group">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-subscript"></span></span>
                        {{ form.user_group }}{{ form.user_group.errors }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_parent_dev">{% trans 'Parent device' %}</label>

                    <div class="input-group selectajax" data-dst="/dev/search_dev">
                        <span class="input-group-addon"><span class="glyphicon glyphicon-hdd"></span></span>
                        <input type="hidden" name="parent_dev" class="selectajax-hid"{% if selected_parent_dev %} value="{{ selected_parent_dev.pk }}"{% endif %}>
                        {% if selected_parent_dev %}
                            <button class="selectajax-btn form-control btn btn-default">{{ selected_parent_dev.comment }}</button>
                            <input type="text" class="form-control dropdown-toggle selectajax-inp hidden" data-toggle="dropdown" id="id_parent_dev" placeholder="{% trans 'Find the device' %}">
                        {% else %}
                            <button class="selectajax-btn form-control btn btn-default hidden"></button>
                            <input type="text" class="form-control dropdown-toggle selectajax-inp" data-toggle="dropdown" id="id_parent_dev" placeholder="{% trans 'Find the device' %}">
                        {% endif %}
                        <ul class="dropdown-menu selectajax-ul"></ul>{{ form.parent_dev.errors }}
                    </div>
                </div>

                <div class="btn-group">
                    <button type="submit" class="btn btn-sm btn-primary">
                        <span class="glyphicon glyphicon-save"></span> {% trans 'Save' %}
                    </button>
                    <button type="reset" class="btn btn-sm btn-default">
                        <span class="glyphicon glyphicon-remove-circle"></span> {% trans 'Reset' %}
                    </button>
                </div>

            </form>
        </div>
    </div>

{% endblock %}